# 单片机原理及应用项目

## 项目简介

本项目基于 STC89C52 单片机，结合 OLED 显示屏，实现了多通道频率与占空比可调的信号输出系统。用户可通过按键设置各通道的输出频率和占空比，实时在 OLED 上显示参数变化，适用于单片机原理实验、信号发生器等场景。

## 主要功能

- 4 路信号输出，每路频率和占空比独立可调
- OLED 显示当前各通道参数，界面友好
- 按键支持参数切换、增减、长按快调
- 支持外部中断、定时器中断，响应及时

## 目录结构

```
├── Delay.c / Delay.h         // 软件延时函数
├── datatype.h               // 常用数据类型定义
├── main.c                   // 主程序入口
├── my_interrupt.c / .h      // 中断与定时器初始化
├── OLED.c / .h              // OLED 驱动与显示接口
├── OLED_show.c / .h         // OLED 界面显示逻辑
├── OLED_Font.h              // OLED 字库（点阵）
├── STARTUP.A51              // 启动文件
├── project.uvproj           // Keil 工程文件
├── Listings/                // 汇编/编译中间文件
├── Objects/                 // 编译生成的目标文件
└── README.md                // 项目说明文档
```

## 硬件连接

- 单片机型号：STC89C52
- OLED 屏幕：I2C 接口，SCL 连接 P0.0，SDA 连接 P0.1
- 按键输入：P3.3（设置/切换），P3.4、P3.6、P3.7（参数调整）
- 信号输出：P2.0 ~ P2.3

## 按键说明

- 按下 P3.3：切换设置项（频率/占空比/通道）
- 按下 P3.4：参数加一，长按快加
- 按下 P3.6：参数减一，长按快减
- 按下 P3.7：启动/停止信号输出

## 编译与下载

1. 使用 Keil uVision5 打开 `project.uvproj` 工程文件。
2. 确认芯片型号、仿真器设置正确。
3. 编译工程（F7），无误后下载至单片机。
4. 上电后即可通过按键和 OLED 进行操作。

## 代码说明

- 所有源文件均配有详细注释，便于理解和二次开发。
- `datatype.h` 统一定义了常用数据类型，保证移植性和可读性。
- `main.c` 负责主循环、按键扫描与参数逻辑。
- `OLED_show.c` 负责界面显示与参数刷新。
- `my_interrupt.c` 负责定时器和外部中断初始化。
- `Delay.c` 提供基础延时函数。

## 适用场景

- 单片机原理实验教学
- 多通道信号发生器
- 嵌入式系统参数可视化演示

## 致谢

感谢所有开源资料和 STC 单片机社区的技术支持。
